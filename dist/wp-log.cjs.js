"use strict";var t,r;!function(t){t.ERR_CONFIG_SDK_INIT_OPTION='[Woodpecker] Missing "sdkInit" option.',t.ERR_PATH_REWRITER_CONFIG="[Woodpecker] Invalid path config. Expecting object with path config or a rewrite function",t.ERR_PATCHING_SCRIPT="[Woodpecker] unable to prevent script execution for script src %s .\n",t.ERR_CONFIG_SDK_LOG_PROVIDER="[Woodpecker] Log provider config error. Expecting a function.",t.ERR_CONFIG_SDK_LOG_LEVEL="[Woodpecker] Log level error. Invalid logLevel."}(t||(t={})),function(t){t.MESSAGE_GOT_SCRIPT="[woodpecker] got new script %s",t.MESSAGE_BLOCKED_SCRIPT="[woodpecker] blocked and replace script %s to %s",t.MESSAGE_SCRIPT_LOADED="[woodpecker] new script onload %s",t.MESSAGE_START_STATIC_SCRIPT="[woodpecker] start load static new script",t.MESSAGE_START_DYNAMIC_SCRIPT="[woodpecker] start load dynamic new script"}(r||(r={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function e(t,r,e,n){return new(e||(e=Promise))((function(o,i){function c(t){try{a(n.next(t))}catch(t){i(t)}}function u(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(c,u)}a((n=n.apply(t,r||[])).next())}))}function n(t,r){var e,n,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=r.call(t,c)}catch(t){i=[6,t],n=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function o(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),c=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return c}function i(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(o(arguments[r]));return t}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t,r,e){return t(e={path:r,exports:{},require:function(t,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&e.path)}},e.exports),e.exports}var a="object"==typeof c&&c&&c.Object===Object&&c,f="object"==typeof self&&self&&self.Object===Object&&self,l=a||f||Function("return this")(),p=l.Symbol,s=Object.prototype,v=s.hasOwnProperty,b=s.toString,d=p?p.toStringTag:void 0;var y=function(t){var r=v.call(t,d),e=t[d];try{t[d]=void 0;var n=!0}catch(t){}var o=b.call(t);return n&&(r?t[d]=e:delete t[d]),o},h=Object.prototype.toString;var j=function(t){return h.call(t)},g=p?p.toStringTag:void 0;var w=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?y(t):j(t)};var E=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};var _=function(t){if(!E(t))return!1;var r=w(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var O=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););return t};var S=function(t){return function(r,e,n){for(var o=-1,i=Object(r),c=n(r),u=c.length;u--;){var a=c[t?u:++o];if(!1===e(i[a],a,i))break}return r}}();var R=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n};var A=function(t){return null!=t&&"object"==typeof t};var T=function(t){return A(t)&&"[object Arguments]"==w(t)},m=Object.prototype,I=m.hasOwnProperty,P=m.propertyIsEnumerable,L=T(function(){return arguments}())?T:function(t){return A(t)&&I.call(t,"callee")&&!P.call(t,"callee")},C=Array.isArray;var k=function(){return!1},x=u((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e?l.Buffer:void 0,i=(o?o.isBuffer:void 0)||k;t.exports=i})),G=/^(?:0|[1-9]\d*)$/;var M=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&G.test(t))&&t>-1&&t%1==0&&t<r};var D=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object Boolean]"]=N["[object DataView]"]=N["[object Date]"]=N["[object Error]"]=N["[object Function]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object WeakMap]"]=!1;var F=function(t){return A(t)&&D(t.length)&&!!N[w(t)]};var V=function(t){return function(r){return t(r)}},W=u((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e&&a.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),U=W&&W.isTypedArray,B=U?V(U):F,K=Object.prototype.hasOwnProperty;var H=function(t,r){var e=C(t),n=!e&&L(t),o=!e&&!n&&x(t),i=!e&&!n&&!o&&B(t),c=e||n||o||i,u=c?R(t.length,String):[],a=u.length;for(var f in t)!r&&!K.call(t,f)||c&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||M(f,a))||u.push(f);return u},$=Object.prototype;var q=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||$)};var z=function(t,r){return function(e){return t(r(e))}},Y=z(Object.keys,Object),J=Object.prototype.hasOwnProperty;var Q=function(t){if(!q(t))return Y(t);var r=[];for(var e in Object(t))J.call(t,e)&&"constructor"!=e&&r.push(e);return r};var X=function(t){return null!=t&&D(t.length)&&!_(t)};var Z=function(t){return X(t)?H(t):Q(t)};var tt=function(t,r){return function(e,n){if(null==e)return e;if(!X(e))return t(e,n);for(var o=e.length,i=r?o:-1,c=Object(e);(r?i--:++i<o)&&!1!==n(c[i],i,c););return e}}((function(t,r){return t&&S(t,r,Z)}));var rt=function(t){return t};var et=function(t){return"function"==typeof t?t:rt};var nt,ot=function(t,r){return(C(t)?O:tt)(t,et(r))},it=l["__core-js_shared__"],ct=(nt=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"";var ut=function(t){return!!ct&&ct in t},at=Function.prototype.toString;var ft=function(t){if(null!=t){try{return at.call(t)}catch(t){}try{return t+""}catch(t){}}return""},lt=/^\[object .+?Constructor\]$/,pt=Function.prototype,st=Object.prototype,vt=pt.toString,bt=st.hasOwnProperty,dt=RegExp("^"+vt.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var yt=function(t){return!(!E(t)||ut(t))&&(_(t)?dt:lt).test(ft(t))};var ht=function(t,r){return null==t?void 0:t[r]};var jt=function(t,r){var e=ht(t,r);return yt(e)?e:void 0},gt=jt(l,"DataView"),wt=jt(l,"Map"),Et=jt(l,"Promise"),_t=jt(l,"Set"),Ot=jt(l,"WeakMap"),St=ft(gt),Rt=ft(wt),At=ft(Et),Tt=ft(_t),mt=ft(Ot),It=w;(gt&&"[object DataView]"!=It(new gt(new ArrayBuffer(1)))||wt&&"[object Map]"!=It(new wt)||Et&&"[object Promise]"!=It(Et.resolve())||_t&&"[object Set]"!=It(new _t)||Ot&&"[object WeakMap]"!=It(new Ot))&&(It=function(t){var r=w(t),e="[object Object]"==r?t.constructor:void 0,n=e?ft(e):"";if(n)switch(n){case St:return"[object DataView]";case Rt:return"[object Map]";case At:return"[object Promise]";case Tt:return"[object Set]";case mt:return"[object WeakMap]"}return r});var Pt=It,Lt=Object.prototype.hasOwnProperty;var Ct=function(t){if(null==t)return!0;if(X(t)&&(C(t)||"string"==typeof t||"function"==typeof t.splice||x(t)||B(t)||L(t)))return!t.length;var r=Pt(t);if("[object Map]"==r||"[object Set]"==r)return!t.size;if(q(t))return!Q(t).length;for(var e in t)if(Lt.call(t,e))return!1;return!0};function kt(r){if(function(r){if(_(r))return!0;if(!Ct(r)&&C(r))return!0;throw new Error(t.ERR_PATH_REWRITER_CONFIG)}(r)){if(_(r)){var o=r;return function(t){return e(this,void 0,void 0,(function(){var r;return n(this,(function(e){switch(e.label){case 0:return r=xt(t),[4,o.bind(this,r)];case 1:return[2,e.sent()]}}))}))}}return function(t){var e=xt(t),n=e,o=!1;return ot(r,(function(t){if(t.regex.test(e))return o=!0,n=n.replace(t.regex,t.value),!1})),!!o&&n}}}function xt(t){var r;if(window.URL)r="."===t.slice(0,1)?new URL(t,location.href).pathname:new URL(t).pathname;else{var e=document.createElement("a");e.href=t,r=e.pathname,e=null}return r}var Gt=z(Object.getPrototypeOf,Object),Mt=Function.prototype,Dt=Object.prototype,Nt=Mt.toString,Ft=Dt.hasOwnProperty,Vt=Nt.call(Object);var Wt=function(t){if(!A(t)||"[object Object]"!=w(t))return!1;var r=Gt(t);if(null===r)return!0;var e=Ft.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&Nt.call(e)==Vt};var Ut=function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r},Bt=Object.prototype.hasOwnProperty;var Kt=function(t){if(!E(t))return Ut(t);var r=q(t),e=[];for(var n in t)("constructor"!=n||!r&&Bt.call(t,n))&&e.push(n);return e};var Ht=function(t){return X(t)?H(t,!0):Kt(t)};var $t=function(t,r){return null==t?t:S(t,et(r),Ht)};function qt(t){var r;if(window.URL)r="."===t.slice(0,1)?location.host:new URL(t).host;else{var e=document.createElement("a");e.href=t,r=e.host,e=null}return r}var zt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";function Yt(){}var Jt,Qt,Xt,Zt={log:console.log,debug:console.log,info:console.info,warn:console.warn,error:console.error};function tr(){return Jt||(Jt=new rr),Jt}!function(t){t[t.debug=10]="debug",t[t.info=20]="info",t[t.warn=30]="warn",t[t.error=50]="error",t[t.silent=80]="silent"}(Qt||(Qt={})),function(t){t.debug="debug",t.info="info",t.warn="warn",t.error="error",t.silent="silent"}(Xt||(Xt={}));var rr=function(){function r(){this.setLevel(Xt.info),this.setProvider((function(){return Zt}))}return r.prototype.log=function(){var t;(t=this.provider).log.apply(t,i(arguments))},r.prototype.debug=function(){var t;this._showLevel(Xt.debug)&&(t=this.provider).debug.apply(t,i(arguments))},r.prototype.info=function(){var t;this._showLevel(Xt.info)&&(t=this.provider).info.apply(t,i(arguments))},r.prototype.warn=function(){var t;this._showLevel(Xt.warn)&&(t=this.provider).warn.apply(t,i(arguments))},r.prototype.error=function(){var t;this._showLevel(Xt.error)&&(t=this.provider).error.apply(t,i(arguments))},r.prototype.setLevel=function(t){this.isValidLevel(t)&&(this.logLevel=t)},r.prototype.setProvider=function(t){t&&this.isValidProvider(t)&&(this.provider=t(Zt))},r.prototype.isValidProvider=function(r){if(r&&!_(r))throw new Error(t.ERR_CONFIG_SDK_LOG_PROVIDER);return!0},r.prototype.isValidLevel=function(r){var e=Object.keys(Qt).includes(r);if(!e)throw new Error(t.ERR_CONFIG_SDK_LOG_LEVEL);return e},r.prototype._showLevel=function(t){var r=!1,e=Qt[this.logLevel];return e&&e<=Qt[t]&&(r=!0),r},r}(),er=tr();function nr(t,e,n,o){void 0===n&&(n=Yt),void 0===o&&(o=!1);var i=o||t.defer||t.async,c=function(){for(var t=[],r=0,e=void 0;r<20;++r)e=Math.floor(Math.random()*zt.length),t.push(zt.charAt(e));return t.join("").toLowerCase()}();if(!i)return er.debug(r.MESSAGE_START_STATIC_SCRIPT),t.setAttribute("data-wp-log",c),t.src=e,t.type="text/javascript",void(t.onload=n);er.debug(r.MESSAGE_START_DYNAMIC_SCRIPT);var u=Document.prototype.createElement.call(document,"script");Object.keys(HTMLScriptElement.prototype).forEach((function(r){if("src"!==r&&"type"!==r&&t[r]&&"object"!=typeof t[r])try{u[r]=t[r]}catch(t){}})),u.setAttribute("data-wp-log",c),u.src=e,u.type="text/javascript",u.onload=t.onload,u.onerror=t.onerror;var a=t.getAttribute("nonce");a&&u.setAttribute("nonce",a),document.getElementsByTagName("head")[0].appendChild(u),t.parentElement.removeChild(t)}var or=tr();function ir(e,n){var o=kt(e),c=function(t){if(Wt(t))return function(r){var e,n=qt(r);return $t(t,(function(t,o){if(o.indexOf("/")>-1){if(r.indexOf(o)>-1)return e=t,!1}else if(o===n)return e=t,!1})),e};if(_(t)){var r=t;return function(t){var e=qt(t);return r.bind(this,e)}}return function(t){var r=qt(t);return location.protocol+"//"+r}}(n);function u(t,r){return!!r&&(!t.getAttribute("data-wp-log")&&!!o(r))}new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.forEach((function(t){if(1===t.nodeType&&"SCRIPT"===t.tagName){var e=t.src;if(or.debug(r.MESSAGE_GOT_SCRIPT,e||"😈"),u(t,e)){t.type="javascript/blocked";var n=function(r){"javascript/blocked"===t.getAttribute("type")&&r.preventDefault(),t.removeEventListener("beforescriptexecute",n)};t.addEventListener("beforescriptexecute",n);var i=c(e)+o(e);or.debug(r.MESSAGE_BLOCKED_SCRIPT,e,i),nr(t,i,(function(){or.debug(r.MESSAGE_SCRIPT_LOADED,i)}))}}}))}))})).observe(document.documentElement,{childList:!0,subtree:!0});var a=document.createElement;document.createElement=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if("script"!==r[0].toLowerCase())return a.bind(document).apply(void 0,i(r));var n=a.bind(document).apply(void 0,i(r)),o=n.setAttribute.bind(n);try{Object.defineProperties(n,{src:{get:function(){return n.getAttribute("src")},set:function(t){return u(n,t)&&o("type","javascript/blocked"),o("src",t),!0}},type:{set:function(t){var r=t;return u(n,n.src)&&(r="javascript/blocked"),o("type",r),!0}}}),n.setAttribute=function(t,r){"type"===t||"src"===t?n[t]=r:HTMLScriptElement.prototype.setAttribute.call(n,t,r)}}catch(r){or.error(t.ERR_PATCHING_SCRIPT,n.src,r)}return n}}var cr=tr();var ur=function(r,e){var n,o;if(n=r.logLevel,o=r.logProvider,n&&cr.setLevel(n),o&&cr.setProvider(o),!r)throw new Error(t.ERR_CONFIG_SDK_INIT_OPTION);this._initiated=!0,ir(r.path,r.router),"function"==typeof e&&e()};ur.version="0.1.0",ur._initiated=!1,ur.init=ur,module.exports=ur;
//# sourceMappingURL=wp-log.cjs.js.map
