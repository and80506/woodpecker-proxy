!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Woodpecker=e()}(this,(function(){"use strict";var t,e;!function(t){t.ERR_CONFIG_SDK_INIT_OPTION='[Woodpecker] Missing "sdkInit" option.',t.ERR_PATH_REWRITER_CONFIG="[Woodpecker] Invalid path config. Expecting object with path config or a rewrite function",t.ERR_HOST_CONFIG="[Woodpecker] Invalid host config. Expecting object or function or empty",t.ERR_PATCHING_SCRIPT="[Woodpecker] unable to prevent script execution for script src %s .\n",t.ERR_CONFIG_SDK_LOG_PROVIDER="[Woodpecker] Log provider config error. Expecting a function.",t.ERR_CONFIG_SDK_LOG_LEVEL="[Woodpecker] Log level error. Invalid logLevel."}(t||(t={})),function(t){t.MESSAGE_GOT_SCRIPT="[woodpecker] got new script %s",t.MESSAGE_BLOCKED_SCRIPT="[woodpecker] blocked and replace script %s to %s",t.MESSAGE_SCRIPT_LOADED="[woodpecker] new script onload %s",t.MESSAGE_START_STATIC_SCRIPT="[woodpecker] start load static new script %s",t.MESSAGE_START_DYNAMIC_SCRIPT="[woodpecker] start load dynamic new script %s"}(e||(e={}));var r="data-wp-log";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,c=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=c.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}return i}function o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}var c=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var i=function(t){return function(e,r,n){for(var o=-1,c=Object(e),i=n(e),u=i.length;u--;){var a=i[t?u:++o];if(!1===r(c[a],a,c))break}return e}}();var u=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var l="object"==typeof a&&a&&a.Object===Object&&a,p="object"==typeof self&&self&&self.Object===Object&&self,s=l||p||Function("return this")(),v=s.Symbol,d=Object.prototype,b=d.hasOwnProperty,y=d.toString,h=v?v.toStringTag:void 0;var g=function(t){var e=b.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[h]=r:delete t[h]),o},j=Object.prototype.toString;var w=function(t){return j.call(t)},E=v?v.toStringTag:void 0;var _=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":E&&E in Object(t)?g(t):w(t)};var O=function(t){return null!=t&&"object"==typeof t};var S=function(t){return O(t)&&"[object Arguments]"==_(t)},R=Object.prototype,T=R.hasOwnProperty,m=R.propertyIsEnumerable,A=S(function(){return arguments}())?S:function(t){return O(t)&&T.call(t,"callee")&&!m.call(t,"callee")},I=Array.isArray;var L=function(){return!1},P=f((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?s.Buffer:void 0,c=(o?o.isBuffer:void 0)||L;t.exports=c})),C=/^(?:0|[1-9]\d*)$/;var G=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&C.test(t))&&t>-1&&t%1==0&&t<e};var k=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object WeakMap]"]=!1;var M=function(t){return O(t)&&k(t.length)&&!!x[_(t)]};var N=function(t){return function(e){return t(e)}},D=f((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&l.process,c=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=c})),F=D&&D.isTypedArray,W=F?N(F):M,V=Object.prototype.hasOwnProperty;var U=function(t,e){var r=I(t),n=!r&&A(t),o=!r&&!n&&P(t),c=!r&&!n&&!o&&W(t),i=r||n||o||c,a=i?u(t.length,String):[],f=a.length;for(var l in t)!e&&!V.call(t,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||c&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||G(l,f))||a.push(l);return a},B=Object.prototype;var H=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||B)};var K=function(t,e){return function(r){return t(e(r))}},$=K(Object.keys,Object),q=Object.prototype.hasOwnProperty;var z=function(t){if(!H(t))return $(t);var e=[];for(var r in Object(t))q.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var J=function(t){if(!Y(t))return!1;var e=_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var Q=function(t){return null!=t&&k(t.length)&&!J(t)};var X=function(t){return Q(t)?U(t):z(t)};var Z=function(t,e){return function(r,n){if(null==r)return r;if(!Q(r))return t(r,n);for(var o=r.length,c=e?o:-1,i=Object(r);(e?c--:++c<o)&&!1!==n(i[c],c,i););return r}}((function(t,e){return t&&i(t,e,X)}));var tt=function(t){return t};var et=function(t){return"function"==typeof t?t:tt};var rt=function(t,e){return(I(t)?c:Z)(t,et(e))},nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";function ot(){}function ct(t){return/^(?:[a-z]+:)?\/\//i.test(t)}function it(t){return t.replace(/^(?:[a-z]+:)?\/\//,"").replace(/\/.*/,"")}function ut(e){if(function(e){if(I(e))return!0;throw new Error(t.ERR_PATH_REWRITER_CONFIG)}(e))return function(t){var r=function(t){var e;if(window.URL)e=ct(t)?new URL(t).pathname:new URL(t,location.href).pathname;else{var r=document.createElement("a");r.href=t,e=r.pathname,r=null}return e}(t),n=r,o=!1;return rt(e,(function(t){if(t.regex.test(r))return o=!0,n=n.replace(t.regex,t.value),!1})),!!o&&n}}var at=K(Object.getPrototypeOf,Object),ft=Function.prototype,lt=Object.prototype,pt=ft.toString,st=lt.hasOwnProperty,vt=pt.call(Object);var dt,bt=function(t){if(!O(t)||"[object Object]"!=_(t))return!1;var e=at(t);if(null===e)return!0;var r=st.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&pt.call(r)==vt},yt=s["__core-js_shared__"],ht=(dt=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+dt:"";var gt=function(t){return!!ht&&ht in t},jt=Function.prototype.toString;var wt=function(t){if(null!=t){try{return jt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Et=/^\[object .+?Constructor\]$/,_t=Function.prototype,Ot=Object.prototype,St=_t.toString,Rt=Ot.hasOwnProperty,Tt=RegExp("^"+St.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var mt=function(t){return!(!Y(t)||gt(t))&&(J(t)?Tt:Et).test(wt(t))};var At=function(t,e){return null==t?void 0:t[e]};var It=function(t,e){var r=At(t,e);return mt(r)?r:void 0},Lt=It(s,"DataView"),Pt=It(s,"Map"),Ct=It(s,"Promise"),Gt=It(s,"Set"),kt=It(s,"WeakMap"),xt="[object Map]",Mt="[object Promise]",Nt="[object Set]",Dt="[object WeakMap]",Ft="[object DataView]",Wt=wt(Lt),Vt=wt(Pt),Ut=wt(Ct),Bt=wt(Gt),Ht=wt(kt),Kt=_;(Lt&&Kt(new Lt(new ArrayBuffer(1)))!=Ft||Pt&&Kt(new Pt)!=xt||Ct&&Kt(Ct.resolve())!=Mt||Gt&&Kt(new Gt)!=Nt||kt&&Kt(new kt)!=Dt)&&(Kt=function(t){var e=_(t),r="[object Object]"==e?t.constructor:void 0,n=r?wt(r):"";if(n)switch(n){case Wt:return Ft;case Vt:return xt;case Ut:return Mt;case Bt:return Nt;case Ht:return Dt}return e});var $t=Kt,qt=Object.prototype.hasOwnProperty;var zt=function(t){if(null==t)return!0;if(Q(t)&&(I(t)||"string"==typeof t||"function"==typeof t.splice||P(t)||W(t)||A(t)))return!t.length;var e=$t(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(H(t))return!z(t).length;for(var r in t)if(qt.call(t,r))return!1;return!0};var Yt=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Jt=Object.prototype.hasOwnProperty;var Qt=function(t){if(!Y(t))return Yt(t);var e=H(t),r=[];for(var n in t)("constructor"!=n||!e&&Jt.call(t,n))&&r.push(n);return r};var Xt=function(t){return Q(t)?U(t,!0):Qt(t)};var Zt=function(t,e){return null==t?t:i(t,et(e),Xt)};function te(e){if(function(e){if(bt(e)||J(e)||zt(e))return!0;throw new Error(t.ERR_HOST_CONFIG)}(e)){if(bt(e))return function(t){var r=ee(t),n=r;return Zt(e,(function(t,e){var o=it(e);if(r===o)return n=it(t),!1})),n};if(J(e)){var r=e;return function(t){var e=r(t);return e=it(e)}}return function(t){return ee(t)}}}function ee(t){var e;if(window.URL)e=ct(t)?new URL(t).host:location.host;else{var r=document.createElement("a");r.href=t,e=r.host,r=null}return e}var re,ne,oe,ce={log:console.log,debug:console.log,info:console.info,warn:console.warn,error:console.error};function ie(){return re||(re=new ue),re}!function(t){t[t.debug=10]="debug",t[t.info=20]="info",t[t.warn=30]="warn",t[t.error=50]="error",t[t.silent=80]="silent"}(ne||(ne={})),function(t){t.debug="debug",t.info="info",t.warn="warn",t.error="error",t.silent="silent"}(oe||(oe={}));var ue=function(){function e(){this.setLevel(oe.info),this.setProvider((function(){return ce}))}return e.prototype.log=function(){var t;(t=this.provider).log.apply(t,o(arguments))},e.prototype.debug=function(){var t;this._showLevel(oe.debug)&&(t=this.provider).debug.apply(t,o(arguments))},e.prototype.info=function(){var t;this._showLevel(oe.info)&&(t=this.provider).info.apply(t,o(arguments))},e.prototype.warn=function(){var t;this._showLevel(oe.warn)&&(t=this.provider).warn.apply(t,o(arguments))},e.prototype.error=function(){var t;this._showLevel(oe.error)&&(t=this.provider).error.apply(t,o(arguments))},e.prototype.setLevel=function(t){this.isValidLevel(t)&&(this.logLevel=t)},e.prototype.setProvider=function(t){t&&this.isValidProvider(t)&&(this.provider=t(ce))},e.prototype.isValidProvider=function(e){if(e&&!J(e))throw new Error(t.ERR_CONFIG_SDK_LOG_PROVIDER);return!0},e.prototype.isValidLevel=function(e){var r=Object.keys(ne).includes(e);if(!r)throw new Error(t.ERR_CONFIG_SDK_LOG_LEVEL);return r},e.prototype._showLevel=function(t){var e=!1,r=ne[this.logLevel];return r&&r<=ne[t]&&(e=!0),e},e}(),ae=ie();function fe(t,e,n,o){void 0===o&&(o=ot),console.log("createNewScript",e);var c=Document.prototype.createElement.call(document,"script");Object.keys(HTMLScriptElement.prototype).forEach((function(e){if("src"!==e&&"type"!==e&&t[e]&&"object"!=typeof t[e])try{c[e]=t[e]}catch(t){}})),c.setAttribute(r,n),c.src=e,c.type="text/javascript",c.onload=function(){J(t.onload)&&t.onload(),o()},c.onerror=t.onerror;var i=t.getAttribute("nonce");return i&&c.setAttribute("nonce",i),document.getElementsByTagName("head")[0].appendChild(c),t.parentElement.removeChild(t),c}function le(t,n,o){void 0===o&&(o=ot);var c=t.defer||t.async,i=function(){for(var t=[],e=0,r=void 0;e<20;++e)r=Math.floor(Math.random()*nt.length),t.push(nt.charAt(r));return t.join("").toLowerCase()}();console.log(document.currentScript),c||"loading"!==document.readyState?(ae.debug(e.MESSAGE_START_DYNAMIC_SCRIPT,n),fe(t,n,i,o)):(ae.debug(e.MESSAGE_START_STATIC_SCRIPT,n),-1===navigator.userAgent.toLowerCase().indexOf("firefox")?function(t,e,n,o){void 0===o&&(o=ot),console.log("rewriteSrc",e),t.setAttribute(r,n),t.src=e,t.type="text/javascript";var c=t.onload;t.onload=function(){J(c)&&c(),o()}}(t,n,i,o):(t.async=!1,t.defer=!0,fe(t,n,i,o)))}var pe=ie();var se=ie();var ve=function(n,c){var i,u;if(i=n.logLevel,u=n.logProvider,i&&se.setLevel(i),u&&se.setProvider(u),!n)throw new Error(t.ERR_CONFIG_SDK_INIT_OPTION);this._initiated=!0,function(n,c,i){var u=ut(n),a=te(c),f=i||location.protocol;function l(t,e){return!!e&&!t.getAttribute(r)&&!!u(e)}new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.forEach((function(t){if(1===t.nodeType&&"SCRIPT"===t.tagName){var r=t.src,n=l(t,r);if(pe.debug(e.MESSAGE_GOT_SCRIPT,n?'ðŸ˜‡ matched "'+r+'"':'ðŸ˜ˆ not matched "'+r+'"'),l(t,r)){t.type="javascript/blocked";var o=function(e){"javascript/blocked"===t.getAttribute("type")&&e.preventDefault(),t.removeEventListener("beforescriptexecute",o)};t.addEventListener("beforescriptexecute",o);var c=f+"//"+a(r)+u(r);pe.debug(e.MESSAGE_BLOCKED_SCRIPT,r,c),le(t,c,(function(){pe.debug(e.MESSAGE_SCRIPT_LOADED,c)}))}}}))}))})).observe(document.documentElement,{childList:!0,subtree:!0});var p=document.createElement;document.createElement=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if("script"!==e[0].toLowerCase())return p.bind(document).apply(void 0,o(e));var n=p.bind(document).apply(void 0,o(e)),c=n.setAttribute.bind(n);try{Object.defineProperties(n,{src:{get:function(){return n.getAttribute("src")},set:function(t){return l(n,t)&&c("type","javascript/blocked"),c("src",t),!0}},type:{set:function(t){var e=t;return l(n,n.src)&&(e="javascript/blocked"),c("type",e),!0}}}),n.setAttribute=function(t,e){"type"===t||"src"===t?n[t]=e:HTMLScriptElement.prototype.setAttribute.call(n,t,e)}}catch(e){pe.error(t.ERR_PATCHING_SCRIPT,n.src,e)}return n}}(n.path,n.host,n.protocol),"function"==typeof c&&c()};return ve.version="0.1.0",ve._initiated=!1,ve.init=ve,ve}));
//# sourceMappingURL=wp-log.umd.js.map
